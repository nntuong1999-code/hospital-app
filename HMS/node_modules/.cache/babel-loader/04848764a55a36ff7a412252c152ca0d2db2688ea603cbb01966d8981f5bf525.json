{"ast":null,"code":"'use client';\n\nimport { useSyncExternalStore } from 'react';\nfunction createStore(initialState) {\n  let state = initialState;\n  let initialized = false;\n  const listeners = /* @__PURE__ */new Set();\n  return {\n    getState() {\n      return state;\n    },\n    updateState(value) {\n      state = typeof value === \"function\" ? value(state) : value;\n    },\n    setState(value) {\n      this.updateState(value);\n      listeners.forEach(listener => listener(state));\n    },\n    initialize(value) {\n      if (!initialized) {\n        state = value;\n        initialized = true;\n      }\n    },\n    subscribe(callback) {\n      listeners.add(callback);\n      return () => listeners.delete(callback);\n    }\n  };\n}\nfunction useStore(store) {\n  return useSyncExternalStore(store.subscribe, () => store.getState(), () => store.getState());\n}\nexport { createStore, useStore };","map":{"version":3,"names":["createStore","initialState","state","initialized","listeners","Set","getState","updateState","value","setState","forEach","listener","initialize","subscribe","callback","add","delete","useStore","store","useSyncExternalStore"],"sources":["E:\\HOCCODE\\HMS\\FRONTEND\\HMS\\node_modules\\@mantine\\store\\src\\store.ts"],"sourcesContent":["import { useSyncExternalStore } from 'react';\n\nexport type MantineStoreSubscriber<Value> = (value: Value) => void;\ntype SetStateCallback<Value> = (value: Value) => Value;\n\nexport interface MantineStore<Value> {\n  getState: () => Value;\n  setState: (value: Value | SetStateCallback<Value>) => void;\n  updateState: (value: Value | SetStateCallback<Value>) => void;\n  initialize: (value: Value) => void;\n  subscribe: (callback: MantineStoreSubscriber<Value>) => () => void;\n}\n\nexport type MantineStoreValue<Store extends MantineStore<any>> = ReturnType<Store['getState']>;\n\nexport function createStore<Value extends Record<string, any>>(\n  initialState: Value\n): MantineStore<Value> {\n  let state = initialState;\n  let initialized = false;\n  const listeners = new Set<MantineStoreSubscriber<Value>>();\n\n  return {\n    getState() {\n      return state;\n    },\n\n    updateState(value) {\n      state = typeof value === 'function' ? value(state) : value;\n    },\n\n    setState(value) {\n      this.updateState(value);\n      listeners.forEach((listener) => listener(state));\n    },\n\n    initialize(value) {\n      if (!initialized) {\n        state = value;\n        initialized = true;\n      }\n    },\n\n    subscribe(callback) {\n      listeners.add(callback);\n      return () => listeners.delete(callback);\n    },\n  };\n}\n\nexport function useStore<Store extends MantineStore<any>>(store: Store) {\n  return useSyncExternalStore<MantineStoreValue<Store>>(\n    store.subscribe,\n    () => store.getState(),\n    () => store.getState()\n  );\n}\n"],"mappings":";;;AAeO,SAASA,YACdC,YAAA,EACqB;EACrB,IAAIC,KAAA,GAAQD,YAAA;EACZ,IAAIE,WAAA,GAAc;EAClB,MAAMC,SAAA,sBAAgBC,GAAA,EAAmC;EAEzD,OAAO;IACLC,SAAA,EAAW;MACT,OAAOJ,KAAA;IACT;IAEAK,YAAYC,KAAA,EAAO;MACjBN,KAAA,GAAQ,OAAOM,KAAA,KAAU,aAAaA,KAAA,CAAMN,KAAK,IAAIM,KAAA;IACvD;IAEAC,SAASD,KAAA,EAAO;MACd,KAAKD,WAAA,CAAYC,KAAK;MACtBJ,SAAA,CAAUM,OAAA,CAASC,QAAA,IAAaA,QAAA,CAAST,KAAK,CAAC;IACjD;IAEAU,WAAWJ,KAAA,EAAO;MAChB,IAAI,CAACL,WAAA,EAAa;QAChBD,KAAA,GAAQM,KAAA;QACRL,WAAA,GAAc;MAChB;IACF;IAEAU,UAAUC,QAAA,EAAU;MAClBV,SAAA,CAAUW,GAAA,CAAID,QAAQ;MACtB,OAAO,MAAMV,SAAA,CAAUY,MAAA,CAAOF,QAAQ;IACxC;EAAA,CACF;AACF;AAEO,SAASG,SAA0CC,KAAA,EAAc;EACtE,OAAOC,oBAAA,CACLD,KAAA,CAAML,SAAA,EACN,MAAMK,KAAA,CAAMZ,QAAA,EAAS,EACrB,MAAMY,KAAA,CAAMZ,QAAA,EAAS,CACvB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}