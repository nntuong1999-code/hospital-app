{"ast":null,"code":"'use client';\n\nimport { useCallback } from 'react';\nimport { changeErrorIndices } from '../../lists/change-error-indices.mjs';\nimport { reorderErrors } from '../../lists/reorder-errors.mjs';\nimport 'klona/full';\nimport { reorderPath } from '../../paths/reorder-path.mjs';\nimport { insertPath } from '../../paths/insert-path.mjs';\nimport { removePath } from '../../paths/remove-path.mjs';\nimport { replacePath } from '../../paths/replace-path.mjs';\nfunction useFormList({\n  $values,\n  $errors,\n  $status\n}) {\n  const reorderListItem = useCallback((path, payload) => {\n    $status.clearFieldDirty(path);\n    $errors.setErrors(errs => reorderErrors(path, payload, errs));\n    $values.setValues({\n      values: reorderPath(path, payload, $values.refValues.current),\n      updateState: true\n    });\n  }, []);\n  const removeListItem = useCallback((path, index) => {\n    $status.clearFieldDirty(path);\n    $errors.setErrors(errs => changeErrorIndices(path, index, errs, -1));\n    $values.setValues({\n      values: removePath(path, index, $values.refValues.current),\n      updateState: true\n    });\n  }, []);\n  const insertListItem = useCallback((path, item, index) => {\n    $status.clearFieldDirty(path);\n    $errors.setErrors(errs => changeErrorIndices(path, index, errs, 1));\n    $values.setValues({\n      values: insertPath(path, item, index, $values.refValues.current),\n      updateState: true\n    });\n  }, []);\n  const replaceListItem = useCallback((path, index, item) => {\n    $status.clearFieldDirty(path);\n    $values.setValues({\n      values: replacePath(path, item, index, $values.refValues.current),\n      updateState: true\n    });\n  }, []);\n  return {\n    reorderListItem,\n    removeListItem,\n    insertListItem,\n    replaceListItem\n  };\n}\nexport { useFormList };","map":{"version":3,"names":["useFormList","$values","$errors","$status","reorderListItem","useCallback","path","payload","clearFieldDirty","setErrors","errs","reorderErrors","setValues","values","reorderPath","refValues","current","updateState","removeListItem","index","changeErrorIndices","removePath","insertListItem","item","insertPath","replaceListItem","replacePath"],"sources":["E:\\HOCCODE\\HMS\\FRONTEND\\HMS\\node_modules\\@mantine\\form\\src\\hooks\\use-form-list\\use-form-list.ts"],"sourcesContent":["import { useCallback } from 'react';\nimport { changeErrorIndices, reorderErrors } from '../../lists';\nimport { insertPath, removePath, reorderPath, replacePath } from '../../paths';\nimport { InsertListItem, RemoveListItem, ReorderListItem, ReplaceListItem } from '../../types';\nimport type { $FormErrors } from '../use-form-errors/use-form-errors';\nimport type { $FormStatus } from '../use-form-status/use-form-status';\nimport type { $FormValues } from '../use-form-values/use-form-values';\n\ninterface UseFormListInput<Values extends Record<string, any>> {\n  $values: $FormValues<Values>;\n  $errors: $FormErrors<Values>;\n  $status: $FormStatus<Values>;\n}\n\nexport function useFormList<Values extends Record<string, any>>({\n  $values,\n  $errors,\n  $status,\n}: UseFormListInput<Values>) {\n  const reorderListItem: ReorderListItem<Values> = useCallback((path, payload) => {\n    $status.clearFieldDirty(path);\n    $errors.setErrors((errs) => reorderErrors(path, payload, errs));\n    $values.setValues({\n      values: reorderPath(path, payload, $values.refValues.current),\n      updateState: true,\n    });\n  }, []);\n\n  const removeListItem: RemoveListItem<Values> = useCallback((path, index) => {\n    $status.clearFieldDirty(path);\n    $errors.setErrors((errs) => changeErrorIndices(path, index, errs, -1));\n    $values.setValues({\n      values: removePath(path, index, $values.refValues.current),\n      updateState: true,\n    });\n  }, []);\n\n  const insertListItem: InsertListItem<Values> = useCallback((path, item, index) => {\n    $status.clearFieldDirty(path);\n    $errors.setErrors((errs) => changeErrorIndices(path, index, errs, 1));\n    $values.setValues({\n      values: insertPath(path, item, index, $values.refValues.current),\n      updateState: true,\n    });\n  }, []);\n\n  const replaceListItem: ReplaceListItem<Values> = useCallback((path, index, item) => {\n    $status.clearFieldDirty(path);\n    $values.setValues({\n      values: replacePath(path, item, index, $values.refValues.current),\n      updateState: true,\n    });\n  }, []);\n\n  return { reorderListItem, removeListItem, insertListItem, replaceListItem };\n}\n"],"mappings":";;;;;;;;;;AAcO,SAASA,YAAgD;EAC9DC,OAAA;EACAC,OAAA;EACAC;AACF,GAA6B;EAC3B,MAAMC,eAAA,GAA2CC,WAAA,CAAY,CAACC,IAAA,EAAMC,OAAA,KAAY;IAC9EJ,OAAA,CAAQK,eAAA,CAAgBF,IAAI;IAC5BJ,OAAA,CAAQO,SAAA,CAAWC,IAAA,IAASC,aAAA,CAAcL,IAAA,EAAMC,OAAA,EAASG,IAAI,CAAC;IAC9DT,OAAA,CAAQW,SAAA,CAAU;MAChBC,MAAA,EAAQC,WAAA,CAAYR,IAAA,EAAMC,OAAA,EAASN,OAAA,CAAQc,SAAA,CAAUC,OAAO;MAC5DC,WAAA,EAAa;IAAA,CACd;EACH,GAAG,EAAE;EAEL,MAAMC,cAAA,GAAyCb,WAAA,CAAY,CAACC,IAAA,EAAMa,KAAA,KAAU;IAC1EhB,OAAA,CAAQK,eAAA,CAAgBF,IAAI;IAC5BJ,OAAA,CAAQO,SAAA,CAAWC,IAAA,IAASU,kBAAA,CAAmBd,IAAA,EAAMa,KAAA,EAAOT,IAAA,EAAM,EAAE,CAAC;IACrET,OAAA,CAAQW,SAAA,CAAU;MAChBC,MAAA,EAAQQ,UAAA,CAAWf,IAAA,EAAMa,KAAA,EAAOlB,OAAA,CAAQc,SAAA,CAAUC,OAAO;MACzDC,WAAA,EAAa;IAAA,CACd;EACH,GAAG,EAAE;EAEL,MAAMK,cAAA,GAAyCjB,WAAA,CAAY,CAACC,IAAA,EAAMiB,IAAA,EAAMJ,KAAA,KAAU;IAChFhB,OAAA,CAAQK,eAAA,CAAgBF,IAAI;IAC5BJ,OAAA,CAAQO,SAAA,CAAWC,IAAA,IAASU,kBAAA,CAAmBd,IAAA,EAAMa,KAAA,EAAOT,IAAA,EAAM,CAAC,CAAC;IACpET,OAAA,CAAQW,SAAA,CAAU;MAChBC,MAAA,EAAQW,UAAA,CAAWlB,IAAA,EAAMiB,IAAA,EAAMJ,KAAA,EAAOlB,OAAA,CAAQc,SAAA,CAAUC,OAAO;MAC/DC,WAAA,EAAa;IAAA,CACd;EACH,GAAG,EAAE;EAEL,MAAMQ,eAAA,GAA2CpB,WAAA,CAAY,CAACC,IAAA,EAAMa,KAAA,EAAOI,IAAA,KAAS;IAClFpB,OAAA,CAAQK,eAAA,CAAgBF,IAAI;IAC5BL,OAAA,CAAQW,SAAA,CAAU;MAChBC,MAAA,EAAQa,WAAA,CAAYpB,IAAA,EAAMiB,IAAA,EAAMJ,KAAA,EAAOlB,OAAA,CAAQc,SAAA,CAAUC,OAAO;MAChEC,WAAA,EAAa;IAAA,CACd;EACH,GAAG,EAAE;EAEL,OAAO;IAAEb,eAAA;IAAiBc,cAAA;IAAgBI,cAAA;IAAgBG;EAAA,CAAgB;AAC5E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}