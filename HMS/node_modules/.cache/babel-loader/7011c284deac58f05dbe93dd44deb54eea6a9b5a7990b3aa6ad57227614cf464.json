{"ast":null,"code":"'use client';\n\nimport { useState, useCallback, useMemo } from 'react';\nfunction useStateHistory(initialValue) {\n  const [state, setState] = useState({\n    history: [initialValue],\n    current: 0\n  });\n  const set = useCallback(val => setState(currentState => {\n    const nextState = [...currentState.history.slice(0, currentState.current + 1), val];\n    return {\n      history: nextState,\n      current: nextState.length - 1\n    };\n  }), []);\n  const back = useCallback((steps = 1) => setState(currentState => ({\n    history: currentState.history,\n    current: Math.max(0, currentState.current - steps)\n  })), []);\n  const forward = useCallback((steps = 1) => setState(currentState => ({\n    history: currentState.history,\n    current: Math.min(currentState.history.length - 1, currentState.current + steps)\n  })), []);\n  const reset = useCallback(() => {\n    setState({\n      history: [initialValue],\n      current: 0\n    });\n  }, [initialValue]);\n  const handlers = useMemo(() => ({\n    back,\n    forward,\n    reset,\n    set\n  }), [back, forward, reset, set]);\n  return [state.history[state.current], handlers, state];\n}\nexport { useStateHistory };","map":{"version":3,"names":["useStateHistory","initialValue","state","setState","useState","history","current","set","useCallback","val","currentState","nextState","slice","length","back","steps","Math","max","forward","min","reset","handlers","useMemo"],"sources":["E:\\HOCCODE\\HMS\\FRONTEND\\HMS\\node_modules\\@mantine\\hooks\\src\\use-state-history\\use-state-history.ts"],"sourcesContent":["import { useCallback, useMemo, useState } from 'react';\n\nexport interface UseStateHistoryHandlers<T> {\n  set: (value: T) => void;\n  back: (steps?: number) => void;\n  forward: (steps?: number) => void;\n  reset: () => void;\n}\n\nexport interface UseStateHistoryValue<T> {\n  history: T[];\n  current: number;\n}\n\nexport type UseStateHistoryReturnValue<T> = [\n  T,\n  UseStateHistoryHandlers<T>,\n  UseStateHistoryValue<T>,\n];\n\nexport function useStateHistory<T>(initialValue: T): UseStateHistoryReturnValue<T> {\n  const [state, setState] = useState<UseStateHistoryValue<T>>({\n    history: [initialValue],\n    current: 0,\n  });\n\n  const set = useCallback(\n    (val: T) =>\n      setState((currentState) => {\n        const nextState = [...currentState.history.slice(0, currentState.current + 1), val];\n        return {\n          history: nextState,\n          current: nextState.length - 1,\n        };\n      }),\n    []\n  );\n\n  const back = useCallback(\n    (steps = 1) =>\n      setState((currentState) => ({\n        history: currentState.history,\n        current: Math.max(0, currentState.current - steps),\n      })),\n    []\n  );\n\n  const forward = useCallback(\n    (steps = 1) =>\n      setState((currentState) => ({\n        history: currentState.history,\n        current: Math.min(currentState.history.length - 1, currentState.current + steps),\n      })),\n    []\n  );\n\n  const reset = useCallback(() => {\n    setState({ history: [initialValue], current: 0 });\n  }, [initialValue]);\n\n  const handlers = useMemo(() => ({ back, forward, reset, set }), [back, forward, reset, set]);\n\n  return [state.history[state.current], handlers, state];\n}\n"],"mappings":";;;AAoBO,SAASA,gBAAmBC,YAAA,EAAgD;EACjF,MAAM,CAACC,KAAA,EAAOC,QAAQ,IAAIC,QAAA,CAAkC;IAC1DC,OAAA,EAAS,CAACJ,YAAY;IACtBK,OAAA,EAAS;EAAA,CACV;EAED,MAAMC,GAAA,GAAMC,WAAA,CACTC,GAAA,IACCN,QAAA,CAAUO,YAAA,IAAiB;IACzB,MAAMC,SAAA,GAAY,CAAC,GAAGD,YAAA,CAAaL,OAAA,CAAQO,KAAA,CAAM,GAAGF,YAAA,CAAaJ,OAAA,GAAU,CAAC,GAAGG,GAAG;IAClF,OAAO;MACLJ,OAAA,EAASM,SAAA;MACTL,OAAA,EAASK,SAAA,CAAUE,MAAA,GAAS;IAAA,CAC9B;EACF,CAAC,GACH,EAAC,CACH;EAEA,MAAMC,IAAA,GAAON,WAAA,CACX,CAACO,KAAA,GAAQ,MACPZ,QAAA,CAAUO,YAAA,KAAkB;IAC1BL,OAAA,EAASK,YAAA,CAAaL,OAAA;IACtBC,OAAA,EAASU,IAAA,CAAKC,GAAA,CAAI,GAAGP,YAAA,CAAaJ,OAAA,GAAUS,KAAK;EAAA,CACnD,CAAE,GACJ,EAAC,CACH;EAEA,MAAMG,OAAA,GAAUV,WAAA,CACd,CAACO,KAAA,GAAQ,MACPZ,QAAA,CAAUO,YAAA,KAAkB;IAC1BL,OAAA,EAASK,YAAA,CAAaL,OAAA;IACtBC,OAAA,EAASU,IAAA,CAAKG,GAAA,CAAIT,YAAA,CAAaL,OAAA,CAAQQ,MAAA,GAAS,GAAGH,YAAA,CAAaJ,OAAA,GAAUS,KAAK;EAAA,CACjF,CAAE,GACJ,EAAC,CACH;EAEA,MAAMK,KAAA,GAAQZ,WAAA,CAAY,MAAM;IAC9BL,QAAA,CAAS;MAAEE,OAAA,EAAS,CAACJ,YAAY;MAAGK,OAAA,EAAS;IAAA,CAAG;EAClD,GAAG,CAACL,YAAY,CAAC;EAEjB,MAAMoB,QAAA,GAAWC,OAAA,CAAQ,OAAO;IAAER,IAAA;IAAMI,OAAA;IAASE,KAAA;IAAOb;EAAA,CAAI,GAAI,CAACO,IAAA,EAAMI,OAAA,EAASE,KAAA,EAAOb,GAAG,CAAC;EAE3F,OAAO,CAACL,KAAA,CAAMG,OAAA,CAAQH,KAAA,CAAMI,OAAO,GAAGe,QAAA,EAAUnB,KAAK;AACvD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}