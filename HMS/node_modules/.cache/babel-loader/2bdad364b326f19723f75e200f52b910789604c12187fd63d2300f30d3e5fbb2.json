{"ast":null,"code":"'use client';\n\nimport { useState, useRef, useCallback } from 'react';\nimport { filterErrors } from './filter-errors/filter-errors.mjs';\nfunction useFormErrors(initialErrors) {\n  const [errorsState, setErrorsState] = useState(filterErrors(initialErrors));\n  const errorsRef = useRef(errorsState);\n  const setErrors = useCallback(errors => {\n    setErrorsState(current => {\n      const newErrors = filterErrors(typeof errors === \"function\" ? errors(current) : errors);\n      errorsRef.current = newErrors;\n      return newErrors;\n    });\n  }, []);\n  const clearErrors = useCallback(() => setErrors({}), []);\n  const clearFieldError = useCallback(path => {\n    if (errorsRef.current[path] === void 0) {\n      return;\n    }\n    setErrors(current => {\n      const errors = {\n        ...current\n      };\n      delete errors[path];\n      return errors;\n    });\n  }, [errorsState]);\n  const setFieldError = useCallback((path, error) => {\n    if (error == null || error === false) {\n      clearFieldError(path);\n    } else if (errorsRef.current[path] !== error) {\n      setErrors(current => ({\n        ...current,\n        [path]: error\n      }));\n    }\n  }, [errorsState]);\n  return {\n    errorsState,\n    setErrors,\n    clearErrors,\n    setFieldError,\n    clearFieldError\n  };\n}\nexport { useFormErrors };","map":{"version":3,"names":["useFormErrors","initialErrors","errorsState","setErrorsState","useState","filterErrors","errorsRef","useRef","setErrors","useCallback","errors","current","newErrors","clearErrors","clearFieldError","path","setFieldError","error"],"sources":["E:\\HOCCODE\\HMS\\FRONTEND\\HMS\\node_modules\\@mantine\\form\\src\\hooks\\use-form-errors\\use-form-errors.ts"],"sourcesContent":["import { useCallback, useRef, useState } from 'react';\nimport { ClearErrors, ClearFieldError, FormErrors, SetErrors, SetFieldError } from '../../types';\nimport { filterErrors } from './filter-errors/filter-errors';\n\nexport interface $FormErrors<Values extends Record<string, any>> {\n  errorsState: FormErrors;\n  setErrors: SetErrors;\n  clearErrors: ClearErrors;\n  setFieldError: SetFieldError<Values>;\n  clearFieldError: ClearFieldError;\n}\n\nexport function useFormErrors<Values extends Record<string, any>>(\n  initialErrors: FormErrors\n): $FormErrors<Values> {\n  const [errorsState, setErrorsState] = useState(filterErrors(initialErrors));\n  const errorsRef = useRef(errorsState);\n\n  const setErrors: SetErrors = useCallback((errors) => {\n    setErrorsState((current) => {\n      const newErrors = filterErrors(typeof errors === 'function' ? errors(current) : errors);\n      errorsRef.current = newErrors;\n      return newErrors;\n    });\n  }, []);\n\n  const clearErrors: ClearErrors = useCallback(() => setErrors({}), []);\n\n  const clearFieldError: ClearFieldError = useCallback(\n    (path) => {\n      if (errorsRef.current[path as string] === undefined) {\n        return;\n      }\n\n      setErrors((current) => {\n        const errors = { ...current };\n        delete errors[path as string];\n        return errors;\n      });\n    },\n    [errorsState]\n  );\n\n  const setFieldError: SetFieldError<Values> = useCallback(\n    (path, error) => {\n      if (error == null || error === false) {\n        clearFieldError(path);\n      } else if (errorsRef.current[path as string] !== error) {\n        setErrors((current) => ({ ...current, [path]: error }));\n      }\n    },\n    [errorsState]\n  );\n\n  return {\n    errorsState,\n    setErrors,\n    clearErrors,\n    setFieldError,\n    clearFieldError,\n  };\n}\n"],"mappings":";;;;AAYO,SAASA,cACdC,aAAA,EACqB;EACrB,MAAM,CAACC,WAAA,EAAaC,cAAc,IAAIC,QAAA,CAASC,YAAA,CAAaJ,aAAa,CAAC;EAC1E,MAAMK,SAAA,GAAYC,MAAA,CAAOL,WAAW;EAEpC,MAAMM,SAAA,GAAuBC,WAAA,CAAaC,MAAA,IAAW;IACnDP,cAAA,CAAgBQ,OAAA,IAAY;MAC1B,MAAMC,SAAA,GAAYP,YAAA,CAAa,OAAOK,MAAA,KAAW,aAAaA,MAAA,CAAOC,OAAO,IAAID,MAAM;MACtFJ,SAAA,CAAUK,OAAA,GAAUC,SAAA;MACpB,OAAOA,SAAA;IACT,CAAC;EACH,GAAG,EAAE;EAEL,MAAMC,WAAA,GAA2BJ,WAAA,CAAY,MAAMD,SAAA,CAAU,EAAE,GAAG,EAAE;EAEpE,MAAMM,eAAA,GAAmCL,WAAA,CACtCM,IAAA,IAAS;IACR,IAAIT,SAAA,CAAUK,OAAA,CAAQI,IAAc,MAAM,QAAW;MACnD;IACF;IAEAP,SAAA,CAAWG,OAAA,IAAY;MACrB,MAAMD,MAAA,GAAS;QAAE,GAAGC;MAAA,CAAQ;MAC5B,OAAOD,MAAA,CAAOK,IAAc;MAC5B,OAAOL,MAAA;IACT,CAAC;EACH,GACA,CAACR,WAAW,EACd;EAEA,MAAMc,aAAA,GAAuCP,WAAA,CAC3C,CAACM,IAAA,EAAME,KAAA,KAAU;IACf,IAAIA,KAAA,IAAS,QAAQA,KAAA,KAAU,OAAO;MACpCH,eAAA,CAAgBC,IAAI;IACtB,WAAWT,SAAA,CAAUK,OAAA,CAAQI,IAAc,MAAME,KAAA,EAAO;MACtDT,SAAA,CAAWG,OAAA,KAAa;QAAE,GAAGA,OAAA;QAAS,CAACI,IAAI,GAAGE;MAAA,CAAM,CAAE;IACxD;EACF,GACA,CAACf,WAAW,EACd;EAEA,OAAO;IACLA,WAAA;IACAM,SAAA;IACAK,WAAA;IACAG,aAAA;IACAF;EAAA,CACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}