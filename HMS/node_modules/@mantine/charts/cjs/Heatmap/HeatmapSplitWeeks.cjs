'use client';
'use strict';

var jsxRuntime = require('react/jsx-runtime');
var getColumns = require('./get-columns/get-columns.cjs');
var getHeatColor = require('./get-heat-color/get-heat-color.cjs');

function HeatmapSplitWeeks({
  data,
  datesRange,
  rectSize,
  gap,
  rectRadius,
  min,
  max,
  colors,
  withTooltip,
  setHoveredRect,
  getRectProps,
  getStyles
}) {
  const rectSizeWithGap = rectSize + gap;
  const columns = getColumns.getColumns(datesRange, true);
  return /* @__PURE__ */ jsxRuntime.jsx(jsxRuntime.Fragment, { children: columns.map((col, columnIndex) => {
    if (col.type === "spacer") {
      return /* @__PURE__ */ jsxRuntime.jsx(
        "g",
        {
          transform: `translate(${columnIndex * rectSizeWithGap}, 0)`
        },
        `spacer-${columnIndex}`
      );
    }
    const week = datesRange[col.weekIndex];
    const days = week.map((date, dayIndex) => {
      if (!date) {
        return null;
      }
      if (new Date(date).getUTCMonth() !== col.month) {
        return null;
      }
      const hasValue = date in data && data[date] !== null;
      const rectValue = hasValue ? data[date] : null;
      return /* @__PURE__ */ jsxRuntime.jsx(
        "rect",
        {
          width: rectSize,
          height: rectSize,
          x: gap,
          y: dayIndex * rectSizeWithGap + gap,
          rx: rectRadius,
          "data-empty": !hasValue || void 0,
          fill: hasValue ? getHeatColor.getHeatColor({ value: data[date], min, max, colors }) : void 0,
          onPointerEnter: withTooltip ? () => setHoveredRect({ date, value: rectValue }) : void 0,
          ...getRectProps?.({ date, value: rectValue }),
          ...getStyles("rect")
        },
        `${date}-${col.month}`
      );
    });
    return /* @__PURE__ */ jsxRuntime.jsx(
      "g",
      {
        transform: `translate(${columnIndex * rectSizeWithGap}, 0)`,
        "data-id": "week",
        children: days
      },
      `col-${col.weekIndex}-${col.month}-${columnIndex}`
    );
  }) });
}

exports.HeatmapSplitWeeks = HeatmapSplitWeeks;
//# sourceMappingURL=HeatmapSplitWeeks.cjs.map
